// Author  :   Pritam Baldota , Web Url :   http://www.pritambaldota.com , The MIT License (MIT) , Copyright (c) 2015 pritambaldota
!function (e) { window.jqueryLocalization = { Author: "Pritam Baldota", Version: "1.0.0.0", Resources: {}, CurrentCulture: {}, Initialize: function (r) { var t = { resourceName: r.resourceName || "", callback: r.callback, errorCallback: r.errorCallback, culture: r.culture, lcid: r.lcid, scriptRoot: r.scriptRoot || "Scripts/Global_Resources", resxExtension: r.resxExtension || "txt", cache: r.cache || !0 }, o = this; if (t.cache && void 0 !== this.Resources && this.Resources.__Exists) return void console.log("Resource availabe in Cache."); if (void 0 === t.resourceName) return void console.log("No Resource File Name provided."); if ("function" == typeof e.GetCultureInfoByCultureName && "function" == typeof e.getCultureInfoByLCID) { if (void 0 !== t.culture) this.CurrentCulture = e.GetCultureInfoByCultureName(t.culture); else { if (void 0 === t.lcid) return void r.errorCallback({ message: "Please provide either culture or lcid" }); this.CurrentCulture = e.getCultureInfoByLCID(t.lcid) } void 0 == this.CurrentCulture ? (console.log("No culture found for given input. Loading resources from default file"), t.resxExtension = "." + t.resxExtension) : t.resxExtension = "." + this.CurrentCulture.CultureName + "." + t.resxExtension } else t.resxExtension = "." + t.resxExtension; var s = t.scriptRoot + "/" + t.resourceName + t.resxExtension; console.log("Resource identified - " + s), o.Resources = {}, "js" === t.resxExtension.toLowerCase() ? this.LoadDynamicJSCss(s, "js", function () { o.Resources.__Exists = "1", console.log("Resource ready for use."), t.callback() }) : e.get(s, function (r) { e.each(r.split("\r\n"), function (r, t) { t = e.trim(t); var s = t.indexOf(":"); if (-1 !== s && t.length > s) { var i = t.substring(0, s), n = t.substring(s + 1); o.Resources[e.trim(i)] = e.trim(n) } }), o.Resources.__Exists = "1", console.log("Resource ready for use."), t.callback() }) }, LoadDynamicJSCss: function (e, r, t) { var o = {}; "js" == r ? (o = document.createElement("script"), o.type = "text/javascript", o.src = e) : "css" == r && (o = document.createElement("link"), o.type = "text/css", o.rel = "stylesheet", o.href = e), o.readyState ? o.onreadystatechange = function () { ("loaded" == o.readyState || "complete" == o.readyState) && (o.onreadystatechange = null, t()) } : o.onload = function () { t() }, document.body.appendChild(o) } } }(jQuery);